{"mappings":"YA0BA,IAAMA,EAAY,sBACZC,EAAOC,SAASC,cAAc,mBAsBpC,WACE,IAAIC,EAAOC,aAAaC,QAAQN,GAChC,IAAKI,EAAM,OAKX,IAAK,IAAMG,KAJXH,EAAOI,KAAKC,MAAML,GAKhBH,EAAKS,SAASH,GAAKI,MAAQP,EAAKG,IAAQ,E,CA7B5CK,GACAX,EAAKY,iBAAiB,UAGtB,SAAsBC,GACpBA,EAAEC,iBACF,IAA2BC,EAAAF,EAAEG,cAAcP,SAAnCQ,EAAmBF,EAAnBE,MAAOC,EAAYH,EAAZG,QACfC,QAAQC,IAAI,CAAEH,MAAOA,EAAMP,MAAOQ,QAASA,EAAQR,QAC/CN,aAAaC,QAAQN,IACvBK,aAAaiB,WAAWtB,GAE1Bc,EAAEG,cAAcM,O,IATlBtB,EAAKY,iBAAiB,QAASW,UAY/B,SAAqBV,GACnB,IAAIV,EAAOC,aAAaC,QAAQN,IAChCI,EAAOA,EAAOI,KAAKC,MAAML,GAAQ,IAC5BU,EAAEW,OAAOC,MAAQZ,EAAEW,OAAOd,MAAMgB,OACrCtB,aAAauB,QAAQ5B,EAAWQ,KAAKqB,UAAUzB,G,GAhBI,K","sources":["src/js/03-feedback.js"],"sourcesContent":["// 1. Отслеживай на форме событие input, и каждый раз записывай в локальное \n// хранилище объект с полями email и message, в которых \n// сохраняй текущие значения полей формы. Пусть ключом для хранилища \n// будет строка \"feedback-form-state\".\n// 2. При загрузке страницы проверяй состояние хранилища, \n// и если там есть сохраненные данные, заполняй ими поля формы. \n// В противном случае поля должны быть пустыми.\n// 3. При сабмите формы очищай хранилище и поля формы, \n// а также выводи объект с полями email, message и текущими их значениями \n// в консоль.\n// 4. Сделай так, чтобы хранилище обновлялось не чаще чем раз \n// в 500 миллисекунд. Для этого добавь в проект и используй библиотеку \n// lodash.throttle.\n\n// const formEl = document.querySelector('.feedback-form');\n// console.log(formEl);\n// const inputEl = formEl.querySelector('input');\n// const textAreaEl = formEl.querySelector('textarea');\n// console.log(formEl);\n// formEl.addEventListener('input', function() {\n//     console.log(inputEl.currentTarget.value);\n//     // const inform = {\n        \n//     // }\n// });\n\nconst LOCAL_KEY = 'feedback-form-state';\nconst form = document.querySelector('.feedback-form');\npopulateFeedbackForm();\nform.addEventListener('submit', onFormSubmit);\nform.addEventListener('input', throttle(onInputData, 500));\n\nfunction onFormSubmit(e) {\n  e.preventDefault();\n  const { email, message } = e.currentTarget.elements;\n  console.log({ email: email.value, message: message.value });\n  if (localStorage.getItem(LOCAL_KEY)) {\n    localStorage.removeItem(LOCAL_KEY);\n  }\n  e.currentTarget.reset();\n}\n\nfunction onInputData(e) {\n  let data = localStorage.getItem(LOCAL_KEY);\n  data = data ? JSON.parse(data) : {};\n  data[e.target.name] = e.target.value.trim();\n  localStorage.setItem(LOCAL_KEY, JSON.stringify(data));\n}\n\nfunction populateFeedbackForm() {\n  let data = localStorage.getItem(LOCAL_KEY);\n  if (!data) return;\n  data = JSON.parse(data);\n  // Object.entries(data).forEach(([name, value]) => {\n  //   form.elements[name].value = value || '';\n  // });\n  for (const key in data) {\n    form.elements[key].value = data[key] || '';\n  }\n}"],"names":["$b00c40859be242c5$var$LOCAL_KEY","$b00c40859be242c5$var$form","document","querySelector","data","localStorage","getItem","key","JSON","parse","elements","value","$b00c40859be242c5$var$populateFeedbackForm","addEventListener","e","preventDefault","_elements","currentTarget","email","message","console","log","removeItem","reset","throttle","target","name","trim","setItem","stringify"],"version":3,"file":"03-feedback.69fcde01.js.map"}